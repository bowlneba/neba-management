@page "/testing/notifications"
@rendermode InteractiveServer

@if (!IsTestEnvironment)
{
    NavigationManager.NavigateTo("/not-found", true);
    return;
}

<h1 class="text-3xl font-bold mb-6 text-[var(--neba-text)]">Notification Test Harness</h1>

<div class="space-y-8">
    <section>
        <h2 class="text-2xl font-semibold mb-4 text-[var(--neba-text)]">Loading Indicator</h2>
        <div class="flex gap-4 mb-4">
            <button class="neba-btn neba-btn-primary" @onclick="ShowLoadingFullScreen" data-testid="show-loading-fullscreen-btn">
                Show Full Screen Loading
            </button>
            <button class="neba-btn neba-btn-secondary" @onclick="ShowLoadingPage" data-testid="show-loading-page-btn">
                Show Page Loading
            </button>
        </div>
        <NebaLoadingIndicator IsVisible="@_showLoadingFullScreen" Text="Loading, please wait..." Scope="LoadingIndicatorScope.FullScreen" OnOverlayClick="HideLoadingFullScreen" />
        <NebaLoadingIndicator IsVisible="@_showLoadingPage" Text="Loading, please wait..." Scope="LoadingIndicatorScope.Page" OnOverlayClick="HideLoadingPage" />
    </section>
    @code {
        private bool _showLoadingFullScreen;
        private bool _showLoadingPage;

        private void ShowLoadingFullScreen() => _showLoadingFullScreen = true;
        private void HideLoadingFullScreen() => _showLoadingFullScreen = false;

        private void ShowLoadingPage() => _showLoadingPage = true;
        private void HideLoadingPage() => _showLoadingPage = false;
    }
    <section>
        <h2 class="text-2xl font-semibold mb-4 text-[var(--neba-text)]">Toast Notifications</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
            <button class="neba-btn neba-btn-primary" @onclick="TriggerErrorToast" data-testid="error-toast-btn">
                Error Toast
            </button>
            <button class="neba-btn neba-btn-primary" @onclick="TriggerWarningToast" data-testid="warning-toast-btn">
                Warning Toast
            </button>
            <button class="neba-btn neba-btn-primary" @onclick="TriggerSuccessToast" data-testid="success-toast-btn">
                Success Toast
            </button>
            <button class="neba-btn neba-btn-primary" @onclick="TriggerInfoToast" data-testid="info-toast-btn">
                Info Toast
            </button>
            <button class="neba-btn neba-btn-primary" @onclick="TriggerNormalToast" data-testid="normal-toast-btn">
                Normal Toast
            </button>
        </div>
    </section>

    <section>
        <h2 class="text-2xl font-semibold mb-4 text-[var(--neba-text)]">Alert Notifications</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
            <button class="neba-btn neba-btn-secondary" @onclick="TriggerErrorAlert" data-testid="error-alert-btn">
                Error Alert
            </button>
            <button class="neba-btn neba-btn-secondary" @onclick="TriggerWarningAlert" data-testid="warning-alert-btn">
                Warning Alert
            </button>
            <button class="neba-btn neba-btn-secondary" @onclick="TriggerSuccessAlert" data-testid="success-alert-btn">
                Success Alert
            </button>
            <button class="neba-btn neba-btn-secondary" @onclick="TriggerInfoAlert" data-testid="info-alert-btn">
                Info Alert
            </button>
            <button class="neba-btn neba-btn-secondary" @onclick="TriggerNormalAlert" data-testid="normal-alert-btn">
                Normal Alert
            </button>
        </div>
    </section>

    <section>
        <h2 class="text-2xl font-semibold mb-4 text-[var(--neba-text)]">Combined Alert + Toast</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
            <button class="neba-btn neba-btn-primary" @onclick="TriggerValidationFailure" data-testid="validation-failure-btn">
                Validation Failure (Alert + Toast)
            </button>
            <button class="neba-btn neba-btn-primary" @onclick="TriggerCustomAlertAndToast" data-testid="custom-alert-toast-btn">
                Custom Alert + Toast
            </button>
        </div>
    </section>
</div>
